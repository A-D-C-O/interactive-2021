<!DOCTYPE html>
<html>
<head>
	<style>
			#clutter_container, #room_container {
				height: 100vh;
				width:100vw;
				position:absolute;
				top:0px;
				left:0px;
				display: flex;
				flex-direction:column;
				flex-wrap:nowrap;
				align-items:center;
				justify-content:center;
			}
			.room_image_container {
				overflow: auto;
				zoom: 0.4;
				-moz-transform: scale(0.4);
				width: 3000px;
			}
			#shapes {
				position:relative;
				/*this is where you change the size of the clutter area. If you make this larger
				or smaller, you might need to adjust the values in the JS where you position the 
				clutter elements.*/
				width: 2000px;
				height: 2000px;
				/*border just so you can see where this is*/
				border: 1px solid red;
			}
			/*Disabling pointer events on the clutter means that you can
			still click on the image below, but the clutter appears on top.*/
			#clutter_container {
				pointer-events: none;
			}
			/*this is a new class that I applied to all the imgs that are the clutter
			by putting a z-index on only the images, and not their container, I think you 
			can keep scrolling on the room image behind.*/
			.clutter {
				z-index:500;
			}
		</style>
	</head>
	<body>
		<!-- I restrucutred this area a little bit-- room_image_container and shapes
		are both positioned in the center of the window using flex. -->
		<div id="clutter_container">
			<div id="shapes"></div>
		</div>
		<div id="room_container" onclick="mess();" >
			<div class="room_image_container">
				<img src="room_180/png/A.png" height=3000px usemap="#A_map" id="room_image"/>
			</div>
		</div>


		<map name="A_map">
			<area shape="rect" coords="0, 0, 2200, 3956" id="A_to_mantle" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="2200,0, 3600, 3956" id="A_to_chair" onclick="img_switch(this.id);mess();">
			<area shape="rect" coords="3600, 0, 5500, 3956" id="A_to_books" onclick="img_switch(this.id);mess();">
			<area shape="rect" coords="5500, 0, 7500, 3956" id="A_to_bed" onclick="img_switch(this.id);mess();">
			<area shape="rect" coords="7500, 0, 11538, 3956" id="A_to_lights" onclick="img_switch(this.id);mess();">
		</map>
		<map name="A1_map">
			<area shape="rect" coords="0,0,2200,3000" onclick="mess();" >
		</map>
		<map name="mantle_map">
			<area shape="rect" coords="0, 0, 3500 ,3000" id="mantle_left" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="3500, 0, 5457, 3000" id="mantle_right" onclick="img_switch(this.id);mess();" >
		</map>
		<map name="chair_map">
			<area shape="rect" coords="0, 0, 400 ,3000" id="chair_left" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="2626, 0, 5252, 3000" id="chair_right" onclick="img_switch(this.id);mess();" >
		</map>
		<map name="books_map">
			<area shape="rect" coords="0, 0, 200 ,3000" id="books_left" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="2626, 0, 4178.44, 3000" id="books_right" onclick="img_switch(this.id);mess();" >
		</map>
		<map name="bed_map">
			<area shape="rect" coords="0, 0, 200 ,3000" id="bed_left" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="3000, 0, 4178.44, 3000" id="bed_right" onclick="img_switch(this.id);mess();" >
		</map>
		<map name="lights_map">
			<area shape="rect" coords="0, 0, 500 ,3000" id="lights_left" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="4000, 0, 5441.63, 3000" id="lights_right" onclick="img_switch(this.id);mess();" >
		</map>
		<map name="closet_map">
			<area shape="rect" coords="0, 0, 500 ,3000" id="closet_left" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="2200, 0, 5441.63, 3000" id="closet_right" onclick="img_switch(this.id);mess();" >
		</map>
		<map name="tv_map">
			<area shape="rect" coords="0, 0, 800 ,3000" id="tv_left" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="800, 0, 5441.63, 3000" id="tv_right" onclick="img_switch(this.id);mess();" >
		</map>
		<map name="speakers_map">
			<area shape="rect" coords="0, 0, 800 ,3000" id="speakers_left" onclick="img_switch(this.id);mess();" >
			<area shape="rect" coords="800, 0, 5441.63, 3000" id="speakers_right" onclick="img_switch(this.id);mess();" >
		</map>

		<script>

			function mess() {
			// get div with the ID "shapes"
			let canvas = document.getElementById('shapes');
			let currentStyle = window.getComputedStyle(canvas);
			let currentMargin = currentStyle.marginLeft;
			let currentMarginNumber = parseInt(currentMargin, 10);
			console.log(currentMarginNumber);
			let imgPath = 'clutter/final/';
			let imgCollection = ['DC.png','frog.png','quarters.png','string.png','polar.png','keys.png','stick.png','keychain.png','tack.png','sani.png','advil.png','12.png','button.png'];
			// randomly choose an image from the files stored in /clutter/final
			let imgChoice = Math.floor(Math.random() * imgCollection.length);
			let imgChosen = imgCollection[imgChoice];
			// give the randomly chosen image a random rotation and location in the div, "shapes"
			let imgRotation = Math.floor(Math.random() * 360);

			// here's where I edited the values 2999 to 1999 so that the images would be inside the shapes element. 
			let imgTop = Math.floor(Math.random() * 1999);
			let imgLeft = Math.floor(Math.random() * 1999 ) + currentMarginNumber;
			
			// inject a new image element into the div with the above random;y chosen attributes
			// I made a couple changes here: added the class="clutter" to the img elements so that you can add a z-index value. Also just sized images with width 100px so I could see them.
			canvas.innerHTML += `<img class="clutter" src="${imgPath}${imgChosen}" width=100px; style="margin:0auto; transform:rotate(${imgRotation}deg); position: absolute; top: ${imgTop}px; left: ${imgLeft}px;"/>`
			// console.log(canvas.innerHTML);
			console.log(imgTop + ", " + imgLeft);
		}


		function img_switch (current_id) {
			let current = document.getElementById("room_image");
			let currentReverse = document.getElementById("room_image_reverse");
			let id = current_id;

			if (id == "A_to_mantle") {
				current.src = "room_180/png/mantle.png";
				current.setAttribute("usemap","#mantle_map");
			} else if (id == "A_to_chair") {
				current.src = "room_180/png/chair.png";
				current.setAttribute("usemap","#chair_map");
			} else if (id == "A_to_books") {
				current.src = "room_180/png/books.png";
				current.setAttribute("usemap","#books_map");
			} else if (id == "A_to_bed") {
				current.src = "room_180/png/bed.png";
				current.setAttribute("usemap","#bed_map");
			} else if (id == "A_to_lights") {
				current.src = "room_180/png/lights.png";
				current.setAttribute("usemap","#lights_map");
			}  else if (id == "mantle_left") {
			// DECIDE IMAGE current.src = "room_180/png/lights.png";
			//current.setAttribute("usemap","");
		}  else if (id == "mantle_right") {
			current.src = "room_180/png/chair.png";
			current.setAttribute("usemap","#chair_map");
		}  else if (id == "chair_left") {
			current.src = "room_180/png/mantle.png";
			current.setAttribute("usemap","#mantle_map");
		}  else if (id == "chair_right") {
			current.src = "room_180/png/books.png";
			current.setAttribute("usemap","#books_map");
		}  else if (id == "books_left") {
			current.src = "room_180/png/chair.png";
			current.setAttribute("usemap","#chair_map");
		}  else if (id == "books_right") {
			current.src = "room_180/png/bed.png";
			current.setAttribute("usemap","#bed_map");
		}  else if (id == "bed_left") {
			current.src = "room_180/png/books.png";
			current.setAttribute("usemap","#books_map");
		}  else if (id == "bed_right") {
			current.src = "room_180/png/lights.png";
			current.setAttribute("usemap","#lights_map");
		}  else if (id == "lights_left") {
			current.src = "room_180/png/bed.png";
			current.setAttribute("usemap","#bed_map");
		}  else if (id == "lights_right") {
			current.src = "room_180/png/closet.png";
			current.setAttribute("usemap","#closet_map");
		}   else if (id == "closet_left") {
			current.src = "room_180/png/lights.png";
			current.setAttribute("usemap","#lights_map");
		}   else if (id == "closet_right") {
			current.src = "room_180/png/tv.png";
			current.setAttribute("usemap","#tv_map");
		}   else if (id == "tv_left") {
			current.src = "room_180/png/closet.png";
			current.setAttribute("usemap","#closet_map");
		}   else if (id == "tv_right") {
			current.src = "room_180/png/speakers.png";
			current.setAttribute("usemap","#speakers_map");
		}   else if (id == "speakers_left") {
			current.src = "room_180/png/tv.png";
			current.setAttribute("usemap","#tv_map");
		}   else if (id == "speakers_right") {
			current.src = "room_180/png/A.png";
			current.setAttribute("usemap","#A_map");
		}
	}

</script>
</body>
</html>


